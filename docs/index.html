<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SDU Shield Explorer</title>
  <style>
    html, body { height:100%; margin:0; font-family: monospace; background:#1e1e1e; color:#ddd; }
    .grid {
      display: grid;
      grid-template-columns: 200px 1fr 1fr;
      grid-template-rows: auto 1fr;
      grid-template-areas:
        "shortcuts path contents"
        "shortcuts viewer viewer";
      height:100%;
    }
    /* Panes */
    #shortcuts { grid-area: shortcuts; background:#2d2d2d; padding:10px; overflow:auto; }
    #path      { grid-area: path; border-bottom:1px solid #444; padding:8px; }
    #contents  { grid-area: contents; padding:8px; overflow:auto; border-left:1px solid #444; border-bottom:1px solid #444; }
    #viewer    { grid-area: viewer; padding:8px; overflow:auto; }
    /* Search */
    #search { width:100%; padding:4px; margin-bottom:8px; background:#333; border:1px solid #444; color:#ddd; }
    /* Tree */
    ul.tree { list-style:none; padding-left:16px; }
    ul.tree li { cursor:pointer; user-select:none; }
    ul.tree li::before { content: 'â–º '; color:#6a9955; }
    ul.tree li.expanded::before { content: 'â–¼ '; color:#6a9955; }
    ul.tree ul { display:none; list-style:none; margin:4px 0 4px 16px; padding:0; }
    ul.tree ul.visible { display:block; }
    /* Icons */
    .icon { width:1em; display:inline-block; }
    /* File list */
    .file-item { margin:4px 0; display:flex; justify-content:space-between; }
    .file-item a { color:#569cd6; text-decoration:none; }
    .file-item a:hover { text-decoration:underline; }
    .download-btn, #copy-btn {
      background:#0e639c; border:none; padding:2px 6px; color:#fff; border-radius:2px; cursor:pointer;
    }
    .download-btn:hover, #copy-btn:hover { background:#1177bb; }
    /* Viewer */
    #doc-view { background:#252526; padding:8px; border:1px solid #444; height:100%; overflow:auto; white-space:pre-wrap; }
  </style>
</head>
<body>
  <div class="grid">
    <div id="shortcuts">
      <h3>ðŸ“Œ Shortcuts</h3>
      <!-- Edit these links without touching anything else -->
      <ul>
        <li><a onclick="navigate('')">/ (root)</a></li>
        <li><a onclick="navigate('Files')">Files</a></li>
        <li><a onclick="navigate('SDU-Shield')">SDU-Shield</a></li>
      </ul>
    </div>
    <div id="path">
      <strong>Path:</strong> <span id="current-path">/</span>
    </div>
    <div id="contents">
      <input id="search" placeholder="Search..." oninput="renderContents()" />
      <ul id="tree" class="tree"></ul>
    </div>
    <div id="viewer">
      <div id="doc-view"></div>
      <button id="copy-btn" style="display:none" onclick="copyText()">Copy</button>
    </div>
  </div>

  <script>
    // â”€â”€â”€ file system definition â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // You can edit this JSON to add/remove folders & files without touching HTML.
    const fs = {
      "": { type:"folder", children: ["Files","SDU-Shield"] },
      "Files": { type:"folder", children: ["sdu_shield_file_tree.html","open_link.html","directory_GPT.html","README.md"] },
      "Files/sdu_shield_file_tree.html": { type:"file" },
      "Files/open_link.html":            { type:"file" },
      "Files/directory_GPT.html":        { type:"file" },
      "Files/README.md":                 { type:"file" },
      "SDU-Shield": { type:"folder", children:["index.html"] },
      "SDU-Shield/index.html": { type:"file" }
    };

    // Icons mapping (easy to extend)
    const icons = {
      "folder":"ðŸ“", "txt":"ðŸ“", "md":"ðŸ“„", "py":"ðŸ",
      "html":"ðŸŒ", "c":"ðŸ”§", "h":"ðŸ”¨", "json":"ðŸ—’ï¸",
      "ini":"âš™ï¸", "default":"ðŸ“¦"
    };

    let current = ""; // current folder path

    // â”€â”€â”€ build the tree in the left pane â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function buildTree(parentPath, ul) {
      for(let name of fs[parentPath].children||[]) {
        const full = parentPath? parentPath+"/"+name : name;
        const li = document.createElement("li");
        li.textContent = icons[ fs[full].type==="folder"? "folder" : (name.split(".").pop()||"default") ] + " " + name;
        li.onclick = e=>{ e.stopPropagation(); navigate(full); };
        ul.appendChild(li);
        if(fs[full].type==="folder") {
          li.classList.add("collapsed");
          const childUl = document.createElement("ul");
          childUl.className="folder-contents";
          li.appendChild(childUl);
          buildTree(full,childUl);
        }
      }
    }

    // â”€â”€â”€ render contents in the top-right pane â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function renderContents() {
      const tree = document.getElementById("tree");
      tree.innerHTML="";
      const search = document.getElementById("search").value.toLowerCase();
      for(let name of fs[current].children||[]) {
        if(search && !name.toLowerCase().includes(search)) continue;
        const full = current? current+"/"+name : name;
        const li = document.createElement("li");
        li.textContent = icons[ fs[full].type==="folder"? "folder" : (name.split(".").pop()||"default") ] + " ";
        const a = document.createElement("a");
        a.href="#"; a.textContent=name;
        a.onclick=e=>{e.preventDefault(); navigate(full);};
        li.appendChild(a);
        if(fs[full].type==="file") {
          const btn = document.createElement("button");
          btn.className="download-btn";
          btn.textContent="DL";
          btn.onclick=()=>{ window.open("https://whompinc.github.io/"+full, "_blank"); };
          li.appendChild(btn);
        }
        tree.appendChild(li);
      }
    }

    // â”€â”€â”€ navigation handler â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function navigate(path) {
      current = (fs[path]&&fs[path].type==="folder")? path : path.split("/").slice(0,-1).join("/");
      document.getElementById("current-path").textContent = path||"/";
      renderContents();
      renderViewer(path);
    }

    // â”€â”€â”€ render file viewer (bottom pane) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function renderViewer(path) {
      const dv = document.getElementById("doc-view");
      const copy = document.getElementById("copy-btn");
      if(fs[path] && fs[path].type==="file") {
        fetch("https://whompinc.github.io/"+path)
          .then(r=>r.text())
          .then(txt=>{
            dv.textContent = txt;
            copy.style.display="inline-block";
          });
      } else {
        dv.textContent = "";
        copy.style.display="none";
      }
    }

    // â”€â”€â”€ copy viewer text â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function copyText() {
      const dv = document.getElementById("doc-view");
      navigator.clipboard.writeText(dv.textContent);
    }

    // â”€â”€â”€ initialize â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    window.onload = ()=>{
      buildTree("", document.querySelector("#shortcuts ul")/*reuse tree for shortcuts*/);
      navigate("");
    };
  </script>
</body>
</html>
